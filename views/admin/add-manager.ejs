<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Manager Account</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet" />
    <!-- <link href="/css/add-manager.css" rel="stylesheet" /> -->
</head>
<body>
<div id="managers-add" class="content-section">
    <div class="section-header">
        <h2>Add New Manager</h2>
        <button class="btn-secondary" onclick="switchTab(event, 'managers-list')">
            <i class="fas fa-arrow-left"></i> Back to List
        </button>
    </div>

    <div class="form-container">
        <form action="/admin/create-manager" method="POST" enctype="multipart/form-data" class="add-form">
            <div class="form-grid">
                <!-- Personal Information -->
                <div class="form-section">
                    <h3><i class="fas fa-user"></i> Personal Information</h3>

                    <div class="form-group">
                        <label for="name">Full Name *</label>
                        <input
                            type="text"
                            id="name"
                            name="name"
                            required
                            placeholder="Enter full name"
                            value="<%= typeof name !== 'undefined' ? name : '' %>"
                        />
                    </div>

                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            required
                            placeholder="Enter email address"
                            value="<%= typeof email !== 'undefined' ? email : '' %>"
                        />
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Phone Number *</label>
                            <input
                                type="tel"
                                id="phone"
                                name="phone"
                                required
                                pattern="[0-9]{10}"
                                placeholder="10-digit number"
                                value="<%= typeof phone !== 'undefined' ? phone : '' %>"
                            />
                        </div>

                        <div class="form-group">
                            <label for="gender">Gender *</label>
                            <select id="gender" name="gender" required>
                                <option value="">Select Gender</option>
                                <option value="male" <%= (typeof gender !== 'undefined' && gender === 'male') ? 'selected' : '' %>>Male</option>
                                <option value="female" <%= (typeof gender !== 'undefined' && gender === 'female') ? 'selected' : '' %>>Female</option>
                                <option value="others" <%= (typeof gender !== 'undefined' && gender === 'others') ? 'selected' : '' %>>Others</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="address">Address *</label>
                        <textarea
                            id="address"
                            name="address"
                            required
                            placeholder="Enter complete address"
                            rows="3"
                        ><%= typeof address !== 'undefined' ? address : '' %></textarea>
                    </div>

                    <div class="form-group">
                        <label for="userImage">Profile Image</label>
                        <input
                            type="file"
                            id="userImage"
                            name="userImage"
                            accept="image/*"
                            class="file-input"
                        />
                        <small>Supported formats: JPG, PNG, JPEG (Max 5MB)</small>
                    </div>
                </div>

                <!-- Professional Information -->
                <div class="form-section">
                    <h3><i class="fas fa-briefcase"></i> Professional Information</h3>

                    <div class="form-group">
                        <label for="department">Department *</label>
                    <select id="department" name="department" required>
    <option value="">Select Department</option>
    <option value="operations">Operations</option>
    <option value="sales">Sales</option>
    <option value="hr">Human Resources</option>
    <option value="finance">Finance</option>
    <option value="it">Information Technology</option>
</select>
                    </div>

                    <!-- Temporary Password Display -->
                    <% if (typeof temporaryPassword !== 'undefined') { %>
                        <div class="form-group">
                            <label>Temporary Password</label>
                            <div class="password-display">
                                <code><%= temporaryPassword %></code>
                                <small>This password will be sent to the manager's email</small>
                            </div>
                        </div>
                    <% } %>
                </div>
            </div>

            <!-- Flash Messages -->
            <% if (messages.success && messages.success.length > 0) { %>
                <div class="alert alert-success">
                    <i class="fas fa-check-circle me-2"></i><%= messages.success[0] %>
                </div>
            <% } %>

            <% if (messages.error && messages.error.length > 0) { %>
                <div class="alert alert-error">
                    <i class="fas fa-exclamation-circle me-2"></i><%= messages.error[0] %>
                </div>
            <% } %>

            <!-- Form Actions -->
            <div class="form-actions">
                <button type="button" class="btn-secondary" onclick="switchTab(event, 'managers-list')">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button type="submit" class="btn-primary">
                    <i class="fas fa-user-plus"></i> Create Manager
                </button>
            </div>
        </form>
    </div>

    <script src="/js/add-manager.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>